<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://thymeleaf.org/extras/spring-security">
<head th:replace="fragments.html :: head"></head>
<body>
    <nav th:replace="fragments.html :: main-nav"></nav>

    <div class="container">
        <div class="py-5 text-center">
            <h2>글 수정</h2>
        </div>
        <div class="row justify-content-center">
            <form class="needs-validation col-sm-10" action="#" th:action="@{'/posts/'+${newPostForm.id}+'/update'}" th:object="${newPostForm}" method="post" novalidate>
                <div class="form-group form-check">
                    <input type="checkbox" class="form-check-input" id="open" th:field="*{open}">
                    <label class="form-check-label" for="open" aria-describedby="openHelp">모두에게 공개합니다.</label>
                </div>

                <div class="form-group">
                    <label for="title">게시글 제목</label>
                    <input id="title" type="text" th:field="*{title}" class="form-control" placeholder="게시글 제목" aria-describedby="titleHelp" required max="50">
                    <small id="titleHelp" class="form-text text-muted">
                        게시글 제목은 50자 까지 가능합니다.
                    </small>
                    <small class="invalid-feedback">제목을 입력하세요</small>
                    <small class="form-text text-danger" th:if="${#fields.hasErrors('title')}" th:errors="*{title}">Title Error</small>
                </div>

                <div class="form-group">
                    <label for="introduction">짧은 소개</label>
                    <textarea id="introduction" th:field="*{introduction}" class="form-control" placeholder="내용을 짧게 소개해 주세요"
                              aria-describedby="introductionHelp" required maxlength="100"></textarea>
                    <small id="introductionHelp" class="form-text text-muted">
                        100자 이내로 짧은 소개를 해주세요
                    </small>
                    <small class="invalid-feedback">짧은 소개를 입력하세요</small>
                    <small class="form-text text-danger" th:if="${#fields.hasErrors('introduction')}" th:errors="*{introduction}">introduction Error</small>
                </div>

                <div class="form-group">
                    <label for="description">본문</label>
                    <textarea id="description" th:field="*{description}" class="editor form-control" placeholder="본문을 작성해주세요"
                              aria-describedby="descriptionHelp" required></textarea>
                    <small id="descriptionHelp" class="form-text text-muted">
                        자유롭게 작성해주세요.
                    </small>
                    <small class="invalid-feedback">본문을 입력하세요</small>
                    <small class="form-text text-danger" th:if="${#fields.hasErrors('description')}" th:errors="*{description}">description Error</small>
                </div>

                <div class="form-group">
                    <button class="btn btn-primary btn-block" type="submit" aria-describedby="submitHelp">글 수정하기</button>
                </div>
            </form>
        </div>
    </div>

    <script th:replace="fragments.html :: form-validation"></script>
    <link href="https://cdn.jsdelivr.net/npm/summernote@0.8.18/dist/summernote.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/summernote@0.8.18/dist/summernote.min.js"></script>
    <script th:replace="fragments.html :: summerNote"></script>
</body>
</html>